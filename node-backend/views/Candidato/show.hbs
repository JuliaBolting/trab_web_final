<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currículo de {{candidato.nome}}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        .main-container {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            max-width: 1200px;
            margin: 50px auto;
        }

        .sidebar {
            width: 200px;
        }

        .content {
            flex-grow: 1;
            max-width: 600px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        }

        .notifications {
            width: 250px;
        }
    </style>
</head>

<body>
    <div class="container main-container">
        <!-- Sidebar Esquerda -->
        <div class="sidebar">
            <button class="btn btn-primary w-100 mb-2">Currículo</button>
            <button class="btn btn-outline-primary w-100 mb-2">Vagas</button>
            <button class="btn btn-outline-primary w-100">Inscrições</button>
        </div>

        <!-- Currículo -->
        <div class="content">
            
            <form action="/candidato/edit/{{candidato.id}}" method="get">
            
            <h2 class="text-center">Currículo de {{candidato.nome}}</h2>

            <div class="text-center">
                <img src="/node-backend/public/img/{{candidato.foto}}" alt="Foto de {{candidato.nome}}" class="rounded-circle" width="150">
            </div>

            <p><strong>Área de Interesse:</strong> {{candidato.setor}}</p>
            <p><strong>Localização:</strong> {{candidato.localizacao}}</p>
            <p><strong>Resumo:</strong> {{candidato.resumo}}</p>
            <p><strong>Disponível para trabalho:</strong> {{#if candidato.disponivel}}Sim{{else}}Não{{/if}}</p>

            <hr>

            <!-- Formação Acadêmica -->
            <h3>Formação Acadêmica</h3>
            <p>Formações encontradas: {{formacoes.length}}</p> <!-- Para garantir o número de entradas -->
            {{#if formacoes.length}}
            <ul>
                {{#each formacoes}}
                <li>
                    <strong>{{this.curso}}</strong> - {{this.instituicao}} ({{this.ano_inicio}} -
                    {{this.ano_conclusao}})
                </li>
                {{/each}}
            </ul>
            {{else}}
            <p>Nenhuma formação acadêmica cadastrada.</p>
            {{/if}}

            <hr>

            <!-- Certificações -->
            <h3>Certificações</h3>
            {{#if certificacoes.length}}
            <ul>
                {{#each certificacoes}}
                <li>
                    <strong>{{this.nome}}</strong> - {{this.instituicao}} (Obtido em: {{this.data_obtencao}})
                    {{#if this.validade}} - Válido até: {{this.validade}}{{/if}}
                    {{#if this.link_certificado}}
                    <a href="{{this.link_certificado}}" target="_blank">Ver Certificado</a>
                    {{/if}}
                </li>
                {{/each}}
            </ul>
            {{else}}
            <p>Nenhuma certificação cadastrada.</p>
            {{/if}}

            <hr>

            <!-- Link para editar o currículo -->
            <a href="/candidato/edit/{{candidato.id}}">
                <button type="submit" class="btn btn-outline-secondary w-100 mt-2">Editar Currículo</button>
            </a>
            
            </form>
        </div>


        <!-- Notificações -->
        <div class="notifications">
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="procurandoEmprego" {{#if
                    candidato.procurandoEmprego}}checked{{/if}}>
                <label class="form-check-label" for="procurandoEmprego">Procurando Emprego</label>
            </div>
            <h4>Notificações</h4>
            {{#each candidato.notificacoes}}
            <div class="alert alert-info d-flex justify-content-between align-items-center">
                <span>{{this.mensagem}}</span>
                <button class="btn btn-sm btn-secondary">Responder</button>
            </div>
            {{/each}}
        </div>
    </div>
</body>

</html>